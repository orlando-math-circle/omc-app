---
title: Day 1
description: Lectures and exercises completed during day 1 of the workshop.
category: Workshop
version: 1.0
---

## Lecture

View the presentation given during day 1 of the workshop <a href="../downloads/Day 1 Presentation.pdf">here</a>.

## CSS Flexbox Practice

[Flexbox Froggy](https://flexboxfroggy.com/) is an interactive game that helps familiarize players with CSS's Flexible Box Module, known as flexbox, a responsive layout model that allows elements in a container to automatically adjust dependent on screen size. The game challenges players through 24 levels, teaching them how to justify and align content along with ordering and wrapping items.


<br /> <img src="/omc-app/images/workshop/flexbox-froggy.gif" /> <br />

<details>
<summary>Click here to view the answer to Level 24 if you get stumped</summary>

```CSS
#pond {
    display: flex;
    flex-direction: column-reverse;
    flex-wrap: wrap-reverse;
    justify-content: center;
    align-content: space-between;
}
```
</details>

## Color Guesser Game

> Objective: Students will build a color guessing game by generating random colors and manipulating DOM elements.

<img src="/omc-app/images/workshop/full-game.gif" />

### HTML Structure

- To complete our game, we will be working with header elements for the text, div elements to help with styling, and button elements for our color buttons and reset game button. We will be incorporating both `id` and `class` attributes to assist with styling and implementing functionality with JavaScript. Note that `id` attributes must be unique to an element. Review and copy the following code into the HTML box in your JSFiddle environment:
    ```HTML
    <body>
    <h1>Guess the color!</h1>
    <h2 id="colorValue"></h2>
    <div id="buttonWrapper">
        <button class="colorButton"></button>
        <button class="colorButton"></button>
        <button class="colorButton"></button>
        <button class="colorButton"></button>
        <button class="colorButton"></button>
    </div>
    <h2 id="answer"></h2>
    <div id="reset">
        <button id="resetButton">Reset Game</button>
    </div>
    </body>
    ```

- Click `Run` at the top of the page to see the HTML code displayed in the Result box. The output should look like the following image.

    <img src="/omc-app/images/workshop/initial-output.png">

### CSS Styling

Now we will apply styles to our elements before implementing functionality. (Skip ahead to the full CSS code block [here](/workshop/day1#full-css-code) if you do not wish to work step by step) 

Recall that the CSS structure is as follows

<img style="transform: 0.5" src="/omc-app/images/workshop/css-syntax.png">

- First copy the following code into the designated CSS box in the IDE:

    ```CSS
    body {
        font-family: Verdana;
    }
    ```

    Run the code and watch the font change! Any declarations written within this selector will be applied to every HTML element within the `<body>` tag. Feel free to change the font to something other than Verdana, such as Arial or Helvetica.

- Next we will align our text elements and apply some spacing by setting the margins by adding the following lines of code:

    ```CSS
    h1 {
        text-align: center;
    }

    #answer {
        margin: 10px auto;
        text-align: center;
    }

    #reset {
        margin: 0 auto;
        text-align: center;
    }
    ``` 

    The `auto` value in the margin property that you see automatically sets the right and left margin of the element to fill the parent container, ultimately centering the element. Note that the `h1` selector applies styles to all `<h1>` elements. The `#answer` selector applies styles to our header element in our HTML code that we gave the attribute of `id="answer"` to and the `#reset` selector applies styles to the div element we gave the attribute of `id="reset"` to. 

- Now we will adjust the styling of the colored buttons! Add in the following lines of code:

    ```CSS
    #buttonWrapper {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        margin: 0 auto;
    }

    .colorButton {
        background-color: rgb(255, 0, 0);
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;
        box-shadow: 0 1px 10px lightgrey;
        margin: 15px;
    }
    ```

    You'll notice a lot of styles are applied here. The container that holds the colored buttons is represented by the HTML div element with the `id="buttonWrapper"` attribute. The declaration `display: flex` is a useful CSS trick to enable websites to be responsive (the content displayed adjusts depending on the screen size) and mobile-friendly. Within the `.colorButton` selector, the width and height of each button are defined in pixels and `border-radius: 50%` changes the button's shape to a circle. The `box-shadow` property adds a subtle shadow to each button. After clicking `Run`, all 5 circled buttons should be the color red as we defined the default color to be an rgb value of (255, 0, 0).

- Lastly, we will style our reset button and text that will display an RGB value.

    ```CSS
    #resetButton {
        padding: 10px;
        background: black;
        border-radius: 30px;
        margin: 10px;
        box-shadow: 0 1px 10px lightgrey;
        color: white;
    }

    #colorValue {
        margin: 10px auto;
        text-align: center;
        box-shadow: 0 1px 10px lightgrey;
        width: fit-content;
        padding: 10px;
        border-radius: 15px;
    }
    ```

    The styles applied are quite simple and similar to the ones before. We changed the background of the button to black, the text color to white, rounded its edges, and applied some padding to all 4 sides so the text won't be right up against the button's borders. We will not see the changes for the styling in the `#colorValue` selector as its content will be defined in our JavaScript code later on.

All our styling is now complete! 🥳 The output should look similar to the image below. Students are welcome to adjust styles as desired. The given code was just a good starting point for students to work with common CSS properties and to allow the game to not appear so dull. 

<img src="/omc-app/images/workshop/css-output.png" />

#### Full CSS Code

<details>
<summary>Click here to view all of the CSS code</summary>

```CSS
body {
    font-family: Verdana;
}

h1 {
    text-align: center;
}

#answer {
    margin: 10px auto;
    text-align: center;
}

#reset {
    margin: 0 auto;
    text-align: center;
}

#buttonWrapper {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    margin: 0 auto;
}

.colorButton {
    background-color: rgb(255, 0, 0);
    width: 50px;
    height: 50px;
    border: none;
    border-radius: 50%;
    box-shadow: 0 1px 10px lightgrey;
    margin: 15px;
}

#resetButton {
    padding: 10px;
    background: black;
    border-radius: 30px;
    margin: 10px;
    box-shadow: 0 1px 10px lightgrey;
    color: white;
}

#colorValue {
    margin: 10px auto;
    text-align: center;
    box-shadow: 0 1px 10px lightgrey;
    width: fit-content;
    padding: 10px;
    border-radius: 15px;
}
```
</details>

### Implementing Functionality with JavaScript

In order for our game to work, we need to add some JavaScript code that will generate random color values and bring functionality to our buttons. Start with a quick [RGB Review](/workshop/day1#rgb-review), jump straight to the [JavaScript tutorial](/workshop/day1#javascript-tutorial), or view the full JavaScript code [here](/workshop/day1#full-javascript-code).

#### RGB Review 

First, a quick review on RGB values. RGB in CSS represents a color based on its red, green, and blue components. Each parameter in an rgb(red, green, blue) function is represented by an integer between 0 and 255 or percentage between 0% and 100%.


| RGB Value       | Resulting Color                                     |
|-----------------|-----------------------------------------------------|
| (255, 0, 0)     | <span style="color: rgb(255, 0, 0)">red</span>      | 
| (0, 255, 0)     | <span style="color: rgb(0, 255, 0)">green</span>    |  
| (0, 0, 255)     | <span style="color: rgb(0, 0, 255)">blue</span>     |
| (255, 255, 0)   | <span style="color: rgb(255, 255, 0)">yellow</span> |  
| (255, 0, 255)   | <span style="color: rgb(255, 0, 255)">magenta</span>|
| (0, 255, 255)   | <span style="color: rgb(0, 255, 255)">cyan</span>   |
| (255, 255, 255) | <span style="color: rgb(255, 255, 255)">white</span>|
| (0, 0, 0)       | <span style="color: rgb(0, 0, 0)">black</span>      |

The following block of code would change an `<h2>` element's text color to <span style="color: rgb(212, 68, 120)">this color</span>.

```CSS
h2 {
    color: rgb(212, 68, 120);
}
```

You may see CSS code that looks like the following and notice the appended 'a' and fourth parameter in the function. This 'a' stands for alpha and is represented by a number between 0.0 and 1.0 which sets the color's opacity. A value of 0 makes the color fully transparent and a value of 1 makes the color opaque. The code below uses the same RGB values but cuts the opacity down to 50%, resulting in <span style="color: rgba(212, 68, 120, 0.5)">this color</span>.

```CSS
h2 {
    color: rgba(212, 68, 120, 0.5);
}
```

That covers the basic of RGB values. Keep these tips in mind when completing the JavaScript portion of the code and when playing the game at the end!

#### JavaScript Tutorial

- Firstly, we want to store our buttons in one place in our JavaScript code. As all 5 buttons have a class name of "colorButton", we can grab all 5 buttons at once and store them into an array, which is a special variable that contains a list of things. Add the following line of code to the designated JavaScript box in the JSFiddle environment:

    ```JavaScript
    var buttons = document.getElementsByClassName('colorButton');
    ```

- Now we want to create variables to store the text element that displays the RGB value to be guessed and the text that displays whether we guessed the color correctly or not. Add the following code below our buttons variable: 

    ```JavaScript
    var heading;
    heading = document.getElementById('colorValue');

    var answerMessage = document.getElementById('answer');
    ```

- Next we will define a function that sets a button's color by passing in the button and specific RGB values. As we want to change the style of the button that is passed in, we utilize JavaScript's `.setAttribute()` method. Add the following code:

    ```JavaScript
    function setButtonColor(button, red, green, blue) {
        button.setAttribute('style',
            'background-color: rgb('+ red +','+ green +','+ blue +');'
        );
    };
    ```

- Now we want to define a function that generates a random integer values between 0 and 255. Add the following code below the `setButtonColor()` function: 

    ```JavaScript
    function generateValue() {
        return Math.floor(Math.random() * 256);
    };
    ```

    Math.random generates a floating-point number between 0 and 1, where 0 is included but 1 is not. As we want to generate integers between 0 and 255, we multiply our random value by 256 to produce numbers between 0 and 256. `Math.floor` takes a floating-point value and rounds it down to the nearest integer. Therefore, the combination of these two methods produces integer values between 0 and 255.

- At this point, our buttons are still not clickable and our colors are not being generated. We have defined variables and necessary functions but now we have to make it all work together. Add the following `startGame()` function **BEFORE** the `setButtonColor()` function.  

    ```JavaScript
    function startGame() {
        answerMessage.innerHTML = "";

        var answerButton = Math.round(Math.random() * (buttons.length - 1));

        for ( var i = 0; i < buttons.length; i++) {
            var red = generateValue();
            var green = generateValue();
            var blue = generateValue();

            setButtonColor(buttons[i], red, green, blue);

            if (i === answerButton) {
                heading.innerHTML = `(${red}, ${green}, ${blue})`;
            }

            buttons[i].addEventListener('click', function(){
                if (this === buttons[answerButton]) {
                    answerMessage.innerHTML = "Correct!";
                } else {
                    answerMessage.innerHTML = "Wrong answer! Guess again!";
                }
            });
        }
    };
    ```

    This code is the core of our functionality and can be overwhelming to beginning developers, especially those who do not have experience with programming language basics, so we will go line-by-line to explain what is happening.

    - The following code resets the answer message to an empty string every time the game is restarted. This ensures a message is not displayed when the user has yet to click on a button upon the start of a game.

        ```JavaScript
        answerMessage.innerHTML = "";
        ```

    - Below we create a variable for the index for the button that will hold the correct color value. Similar to how we generated a random color value, we generate a random integer to choose which button will hold the correct color value. We use `buttons.length`, which is 5 in this case, to set our integer bounds. Note that a random integer between 0 and 4, not 1 and 5, will be generated. This is because we access elements in an array through an index that starts at 0 and ends at the number of items in the array minus 1.

        ```JavaScript
        var answerButton = Math.floor(Math.random() * buttons.length);
        ```

    - This `for` loop simplifies the process of generating random RGB values for each of our buttons. The index is represented by `i` and is initialized to 0 (`var i = 0`). After completion of the code within the loop, the index will increment by 1 (`i++`). The loop will continue to execute until the index is no longer less than the number of buttons, (`i < buttons.length`).

        ```JavaScript
        for ( var i = 0; i < buttons.length; i++) {
            ...
        }
        ```

    - We create three variables (red, green, and blue) to call our `generateValue()` function and store the returned value. 

        ```JavaScript
        var red = generateValue();
	    var green = generateValue();
	    var blue = generateValue();
        ```

    - This line of code calls the `setButtonColor()` function, passing in the button at the current index and the randomly generated RGB values just created. 

        ```JavaScript
        setButtonColor(buttons[i], red, green, blue);
        ```

    - We use a conditional statement to check if the current index is equal to the index for the correct button. If we are at the right index, we set the heading variable to the red, green, and blue values created a few lines of code ago. Note that backticks instead of apostrophes in combination with the `${variable}` structure are used to display variable values in a string. 

        ```JavaScript
        if (i === answerButton) {
            heading.innerHTML = `(${red}, ${green}, ${blue})`;
        }
        ```
    
    - This portion of the code is a little bit more complicated than the rest. We add an event listener, which is a procedure in JavaScript that waits for an event to occur, to the button at the current index, specifying that it will be a click event and defining a function that will be performed when the button is clicked. An if-else conditional is used to determine if the button that was clicked is the answer button. As the event listener stays with the button after the code is executed, `this` will refer to the clicked button. If the user selected the right button, the text displayed will indicate they've guessed correctly. Otherwise, they are told they've selected the wrong button and are prompted to guess again.

        ```JavaScript
        buttons[i].addEventListener('click', function(){
            if (this === buttons[answerButton]) {
                answerMessage.innerHTML = "Correct!";
            } else {
                answerMessage.innerHTML = "Wrong answer! Guess again!";
            }
        });
        ```

- At this point, most of our functionality is complete. You can run the code and click the buttons to see the changes in action. Add the function call below to the bottom of the box and click `Run` to see the random colors and buttons in action.

    ```JavaScript
    startGame();
    ```

- All we need to do now is add functionality to our reset button to reset the game. We simply retrieve the reset button through its ID attribute and add a click event listener that calls the `startGame()` function when the button is clicked. Add the following line of code to the bottom of the box and run!

    ```JavaScript
    document.getElementById('resetButton').addEventListener('click', startGame);
    ```

#### Full JavaScript Code

<details>
<summary>Click here to view all of the JavaScript code</summary>

```JavaScript
var buttons = document.getElementsByClassName('colorButton');

var heading;
heading = document.getElementById('colorValue');

var answerMessage = document.getElementById('answer');

function startGame() {
  answerMessage.innerHTML = "";

  var answerButton = Math.round(Math.random() * (buttons.length - 1));

  for (var i = 0; i < buttons.length; i++) {
    var red = generateValue();
    var green = generateValue();
    var blue = generateValue();

    setButtonColor(buttons[i], red, green, blue);

    if (i === answerButton) {
      heading.innerHTML = `(${red}, ${green}, ${blue})`;
    }

    buttons[i].addEventListener('click', function() {
      if (this === buttons[answerButton]) {
        answerMessage.innerHTML = "Correct!";
      } else {
        answerMessage.innerHTML = "Wrong answer! Guess again!";
      }
    });
  }
};

function setButtonColor(button, red, green, blue) {
  button.setAttribute('style',
    'background-color: rgb(' + red + ',' + green + ',' + blue + ');'
  );
};

function generateValue() {
  return Math.floor(Math.random() * 256);
};

startGame();
document.getElementById('resetButton').addEventListener('click', startGame);
```

</details>

<alert type="info">
    The code is now complete! Use your knowledge of RGB values to play the game! 😁
</alert>

> A JSFiddle with the completed code can be viewed [here](https://jsfiddle.net/7cw2e8xn/40/)

## Simple To-Do List

> Objective: Students will construct a practical to-do list where they can add items to the list, mark items as completed, as well as empty the list or and clear completed items from the list.

<img src="/omc-app/images/workshop/todo-list.gif" /> 

### HTML Structure

Copy the following code into the HTML box in your JSFiddle environment:

```HTML
<body>
  <div class="container">
    <h2>My To-Do List</h2>
    <p>Double-click an item to mark it complete.</p>
    <form name="adder">
      <input type="text" id="input-box" />
    </form>
    <button id="add-button">Add</button>
    <br />
    <ol id="list">
    </ol>
    <div id="button-wrapper">
      <button id="clear-button">Clear Completed</button>
      <button id="empty-button">Empty List</button>
    </div>
  </div>
</body>
```

You'll notice the use of `<div>`, `<header>`, and `<button>` elements like those used for the [Color Guesser Game](/workshop/day1#color-guesser-game) and some new elements. The `<p>` tag represents a paragraph element. A `<form>` is needed in order to use an `<input>` element of `type="text"` so we can type text to be added to our to-do list. A `<br />` is a simple line break and `<ol>` represents an ordered list, which will be further expanded on later. The output should currently look like the following image.

<img style="transform: 0.5" src="/omc-app/images/workshop/list-html.png" />

### CSS Styling

Now we will apply styles to our elements before implementing functionality. (Skip ahead to the full CSS code block [here](/workshop/day1#full-css-code-1) if you do not wish to work step by step) 

- First copy the following code into the designated CSS box in the IDE:

    ```CSS
    body {
        background: rgb(143,246,255);
        background: linear-gradient(90deg, rgba(143,246,255,1) 0%, rgba(186,252,213,1) 100%);
        font-family: "Helvetica Neue";
    }

    .container {
        width: 80%;
        margin-top: 50px;
        background-color: #fff;
        border-radius: 15px;
        margin-left: auto;
        margin-right: auto;
        padding: 30px;
        font-weight: 300;
        box-shadow: 0 1px 10px lightgrey;
    }
    ```

    We apply a gradient background color behind our container and set the font to all text within the `<body>` tag. We then style the main container, defining its width, margins, background color, padding, and box shadow along with rounding its edges and setting the font weight for all text within the `<container>` tag.

- Now add the following styles:

    ```CSS
    h2 {
        margin: 0;
    }

    p {
        font-style: italic;
        color: #666;
        margin: 5px 0;
    }

    ol {
        margin: 20px 0;
    }

    ol li {
        margin: 5px 0;
        padding: 3px;
        user-select: none;
        transition: all 0.5s ease-out;
    }

    .completed {
        text-decoration: line-through;
        color: #666;
    }
    ```

    This code makes small margin changes to text elements, italicizes the text within the paragraph element, and adds styles to elements that will not be seen until JavaScript functionality is implemented in a bit.

- Add the following code to the CSS box:

    ```CSS
    button {
        margin: 10px 2px;
        padding: 5px 20px;
        border-radius: 15px;
        background-color: #0093D5;
        border: none;
        color: #fff;
        text-align: center;
        display: inline-block;
        font-size: small;
    }

    button:hover {
        cursor: pointer;
        opacity: 0.75;
    }

    input {
        padding: 3px 6px;
    }

    form {
        display: inline-block;
    }
    ```

    You are probably familiar with most of the styles applied here. The addition of `:hover` to the `button` selector allows us to apply styling when the user is hovering their mouse over a button. In this case, if we hover over a button, our cursor will change to a pointer and the button's opacity decreases to 75%.

- You know the drill, add this last bit of code to the bottom of the box:

    ```CSS
    #button-wrapper {
        text-align: center;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    #clear-button {
        background-color: #49B749;
    }

    #empty-button {
        background-color: #9B1C20;
    }
    ```

    This code uses flexbox to arrange our buttons and changes their colors. Note that the selectors are based on the respective ID attributes.

All our styling is now complete! 🥳 The output should look similar to the image below. Students are welcome to adjust styles as desired. The given code was just a good starting point for students to work with common CSS properties and to allow the list to not appear so dull.

<img src="/omc-app/images/workshop/list-css.png" />

#### Full CSS Code

<details>
<summary>Click here to view all of the CSS code</summary>

```CSS
body {
    background: rgb(143,246,255);
    background: linear-gradient(90deg, rgba(143,246,255,1) 0%, rgba(186,252,213,1) 100%);
    font-family: "Helvetica Neue";
}

.container {
    width: 80%;
    margin-top: 50px;
    background-color: #fff;
    border-radius: 15px;
    margin-left: auto;
    margin-right: auto;
    padding: 30px;
    font-weight: 300;
    box-shadow: 0 1px 10px lightgrey;
}

h2 {
    margin: 0;
}

p {
    font-style: italic;
    color: #666;
    margin: 5px 0;
}

ol {
    margin: 20px 0;
}

ol li {
    margin: 5px 0;
    padding: 3px;
    user-select: none;
    transition: all 0.5s ease-out;
}

.completed {
    text-decoration: line-through;
    color: #666;
}

button {
    margin: 10px 2px;
    padding: 5px 20px;
    border-radius: 15px;
    background-color: #0093D5;
    border: none;
    color: #fff;
    text-align: center;
    display: inline-block;
    font-size: small;
}

button:hover {
    cursor: pointer;
    opacity: 0.75;
}

input {
    padding: 3px 6px;
}

form {
    display: inline-block;
}

#button-wrapper {
    text-align: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
}

#clear-button {
    background-color: #49B749;
}

#empty-button {
    background-color: #9B1C20;
}
```

</details>

### Implementing Functionality with JavaScript

As you can see in the Result box, there are 3 distinct buttons that we need to add functionality to:
- <badge style="margin: 0">Add</badge> - Adds new items to the to-do list
- <badge style="margin: 0">Clear Completed</badge> - Removes items marked as completed from the list
- <badge style="margin: 0">Empty List</badge> - Empties the entire list

Note that the JavaScript code for this exercise is a bit more complex than code used in the [Color Guesser Game](/workshop/day1#color-guesser-game). Feel free to revisit the [JavaScript Crash Course](/volunteers/webdev#javascript) section if you need more time to prepare. Click [here](/workshop/day1#full-javascript-code-1) if you need to jump to the full JavaScript code.

- First we will retrieve our buttons and define their appropriate functions. Starting with the `Add` button, add the following code to the designated JavaScript box in your environment:

    ```JavaScript
    var addButton = document.getElementById("add-button");
    addButton.addEventListener("click", addItem);
    
    function addItem() {
        alert("You clicked the add button!");
    }
    ```

    By now you should recognize that we are able to get the `Add` button through its unique ID attribute we set in the HTML code. After storing the button as a variable, we attach an event listener to the button that will trigger the `addItem()` function when clicked. If you run the code and click the `Add` button, an alert will pop up notifying you that you clicked the button, as that is the only code defined in the `addItem()` function so far.

- Now use your JavaScript knowledge to get the `Clear Completed` and `Empty List` buttons through their ID attributes, attach event listeners to both, and define functions for each with a simple alert similar to what was done for the `Add` button. For the variable names, use `clearButton` and `emptyButton`, respectively. For the function names, use `clearCompletedItems()` and `emptyList()`, respectively.

    <details>
    <summary>Click here to check your work</summary>

    ```JavaScript
    var clearButton = document.getElementById("clear-button");
    clearButton.addEventListener("click", clearCompletedItems);

    function clearCompletedItems() {
        alert("You clicked the clear button!");
    }

    var emptyButton = document.getElementById("empty-button");
    emptyButton.addEventListener("click", emptyList);

    function emptyList() {
        alert("You clicked the empty button!");
    }
    ```

    </details>

We will now focus on the functionality behind adding items to the to-do list. You may have noticed the `<ol>` tag in the HTML code, which represents an ordered list. Ordered lists are numbered while unordered lists, represented by `<ul>`, are not. Each item in this ordered list will need a `<li>` tag, which we will create in our JavaScript code. 

- First, create variables for both the input box and the list itself with the following code:

    ```JavaScript
    var inputBox = document.getElementById("input-box");
    var list = document.getElementById("list");
    ```

- Now add the following function that creates a new to-do list item:

    ```JavaScript
    function newItem(itemText) {
        var item = document.createElement("li");
        var text = document.createTextNode(itemText);
        item.appendChild(text);

        list.appendChild(item);
        item.addEventListener("dblclick", toggleItemState);
    }
    ```

    This function...
    - creates a new `<li>` element and stores it in a variable called `item`
    - creates a text node with the text passed in and stores it in a variable called `text`
    - appends the text node to the item
    - appends the item to the main list
    - binds an event listener to the item that triggers the `toggleItemState()` function (which will be created shortly) when **double** clicked

- Return to the `addItem()` function and replace the placeholder alert with:

    ```JavaScript
    var itemText = inputBox.value;
    newItem(itemText);

    inputBox.value = "";
    ```

    The `addItem()` function is now complete. It creates a new variable to store the text that was entered into the input box and then calls and passes such text to the `newItem()` function that was created a step before. After the item is created, the input box's text value is set to an empty string to allow for reset after each item addition. Run the code and add items to the list to see the changes in action!

- In order to mark items as complete, we need to define the `toggleItemState()` function referenced earlier. Add the following code to the file:

    ```JavaScript
    function toggleItemState() {
        if (this.classList.contains("completed")) {
            this.classList.remove("completed");
        } else {
            this.classList.add("completed");
        }
    }
    ```

    You may have wondered why the HTML code does not contain any elements with `class="completed"` but the CSS code consists of a `.completed` selector and declarations. This function answers that question. As we have attached event listeners to each item in the list, the *`this`* keyword is used to access the specific item that was double clicked. The `if-else` conditional statement states that if the accessed item contains the `completed` class, the function removes it from its class list. Otherwise, the function adds the `completed` class to the list of classes for the item. In a UI perspective, if the item is already marked as completed, unmark it and remove the styling. If the item is not marked as completed, mark it and add the strikethrough text styling. Run the code, add new items to the list, and try double clicking your items!

The next tasks are to remove items from the list that are marked as completed and completely empty the list.

- To remove completed items from the to-do list, replace the alert inside your `clearCompletedItems()` function with the following code:

    ```JavaScript
    var completedItems = list.getElementsByClassName("completed");

    while (completedItems.length > 0) {
        completedItems.item(0).remove();
    }
    ```

    This code creates a variable to store every item in the list that is marked as completed (aka items that have the `completed` class) and loops over these items to individually remove them until the list of completed items is empty, given by the `while` loop's condition of `completedItems.length > 0`. Remember that the index of items in a list/array starts at 0, not 1, and therefore the first item of the list is removed every time the loop is executed. Yet again, run the code, add items to the list, mark a few as completed, and then click the `Clear Completed` button to see all completed items disappear from the list!

- To completely empty the list, replace the alert inside your `emptyList()` function with the following code:

    ```JavaScript
    var items = list.children;

    while (items.length > 0) {
        items.item(0).remove();
    }
    ```

    This code is extremely similar to the code used to clear completed items from the list. The only difference is that instead of looping through items marked as completed, the function loops through every item in the to-do list, made possible by storing the list's children (every list item within the ordered list) in a new variable called `items`. The `while` loop removes the first item in this list until there are no items left to remove (when `items.length` is no longer greater than 0). Run the code, add some items to the list, and click the `Empty List` button to see every item disappear from the list.

#### Full JavaScript Code

<details>
<summary>Click here to view all of the JavaScript code</summary>

```JavaScript
var addButton = document.getElementById("add-button");
addButton.addEventListener("click", addItem);

function addItem() {
  var itemText = inputBox.value;
  newItem(itemText);

  inputBox.value = "";
}

var clearButton = document.getElementById("clear-button");
clearButton.addEventListener("click", clearCompletedItems);

function clearCompletedItems() {
  var completedItems = list.getElementsByClassName("completed");

  while (completedItems.length > 0) {
    completedItems.item(0).remove();
  }
}

var emptyButton = document.getElementById("empty-button");
emptyButton.addEventListener("click", emptyList);

function emptyList() {
  var items = list.children;

  while (items.length > 0) {
    items.item(0).remove();
  }
}

var inputBox = document.getElementById("input-box");
var list = document.getElementById("list");

function newItem(itemText) {
  var item = document.createElement("li");
  var text = document.createTextNode(itemText);
  item.appendChild(text);

  list.appendChild(item);
  item.addEventListener("dblclick", toggleItemState);
}

function toggleItemState() {
  if (this.classList.contains("completed")) {
    this.classList.remove("completed");
  } else {
    this.classList.add("completed");
  }
}
```
</details>

<alert type="info">
    The to-do list now has all of its functionality complete! 🎉 Students are welcome to stop the exercise here and mess around with adding, completing, and removing items from the list. However, for students interested in further challenging themselves with this exercise, you now have the opportunity to learn about saving information to your browser through the addition of a `Save List` button.
</alert>

> A JSFiddle with the completed code (up until this point) can be viewed [here](https://jsfiddle.net/orL9f4my/6/)

### CHALLENGE - Save List

By adding a `Save List` button and storing data in the browser, saved items will appear in the list the next time the user accesses their JSFiddle in the same browser.

#### Adjust HTML File

Add a `Save List` button below the `Empty List` button in your HTML code, using the ID attribute of `save-button`.

<details>
<summary>Click here to check your work</summary>

```HTML
<div id="button-wrapper">
    <button id="clear-button">Clear Completed</button>
    <button id="empty-button">Empty List</button>
    <button id="save-button">Save List</button>
</div>
```

</details>

#### Add CSS Styling

Change the background color of the `Save List` button. You are welcome to use any color through this simple [Color Picker](https://g.co/kgs/R6tnzS) but if you do not want to pick a color, feel free to use `#594EED`.

<details>
<summary>Click here to check your work</summary>

```CSS
#save-button {
  background-color: #594EED;
}
```

</details>

#### Implement JavaScript Code

Now comes the brain stretching portion of the challenge. We will be working with arrays and objects to complete the task of saving our list. Note that arrays are lists of variables and objects are sets of properties and values.

- Before we begin creating new variables and functions, we need to modify some areas of our current code. The following changes allow for us to save completed items in a list by passing in a Boolean value (true or false) to the `newItem()` function.

    - Within the `addItem()` function, change

        ```JavaScript
        newItem(itemText)
        ```

        to

        ```JavaScript
        newItem(itemText, false)
        ```

    - Change

        ```JavaScript
        function newItem(itemText)
        ```

        to

        ```JavaScript
        function newItem(itemText, completed)
        ```
    
    - Add the following code between `item.appendChild(text)` and `list.appendChild(item)` in the `newItem()` function:

        ```JavaScript
        if (completed) {
            item.classList.add(completed);
        }
        ```

- Recall the process we went through to create functionality for each of our 3 buttons in the beginning of this exercise. Do the same to start the functionality for the `Save List` button by adding code to the bottom of the JavaScript box.

    <details>
    <summary>Click here to check your work</summary>

    ```JavaScript
    var saveButton = document.getElementById("save-button");
    saveButton.addEventListener("click", saveList);

    function saveList() {

    }
    ```

    </details>

- Inside the `saveList()` function, add the following code:

    ```JavaScript
    var toDos = [];

    for (var i = 0; i < list.children.length; i++) {
        var toDo = list.children.item(i);

        var toDoInfo = {
            "task": toDo.innerText,
            "completed": toDo.classList.contains("completed")
        };

        toDos.push(toDoInfo);

    }

    localStorage.setItem("toDos", JSON.stringify(toDos));
    ```

    We will go line-by-line to explain what is happening with the code as it can be quite complex.

    - Simply enough, we first create an empty array called `toDos`. The square brackets are what defines an array.
    
        ```JavaScript
        var toDos = [];
        ```

    - The following `for` loop continues to loop until index `i` is greater than or equal to the number of items in the list, as seen by `i < list.children.length`.
    
        ```JavaScript
        for (var i = 0; i < list.children.length; i++) {
            ...
        }
        ```

    - A variable called `toDo` is created to access the item in the list at the current index.
    
        ```JavaScript
        var toDo = list.children.item(i);
        ```

    - An object titled `toDoInfo` is created. It consists of a `task` property whose value is the item's text value and a `completed` property whose value is a Boolean value determining if an item is marked as completed based on whether or not it contains the `completed` class.
    
        ```JavaScript
        var toDoInfo = {
            "task": toDo.innerText,
            "completed": toDo.classList.contains("completed")
        };
        ```

    - This newly created object is then added to the `toDos` array through the `push` method.
    
        ```JavaScript
        toDos.push(toDoInfo);
        ```

    - Lastly, the following line of code stores the `toDos` array in the browser's local storage as an item. As data stored in a web server/browser must be a string, `JSON.stringify()` converts a JavaScript object (or in this case, an array of objects) into a string.

        ```JavaScript
        localStorage.setItem("toDos", JSON.stringify(toDos));
        ```
- Now that we have saved the list, we need to add a function that loads the list to display our saved items.

    ```JavaScript
    function loadList() {
        if (localStorage.getItem("toDos") != null) {
            var toDos = JSON.parse(localStorage.getItem("toDos"));

            for (var i = 0; i < toDos.length; i++) {
                var toDo = toDos[i];
                newItem(toDo.task, toDo.completed);
            }
        }
    }
    ```

    This function first checks if the `toDos` item in our local storage is null (empty). If it is not null, the code inside the `if` statement is executed. As we previously stringified our array of objects, we use `JSON.parse` to convert the string back into our array so we can access its data. A `for` loop is used to access each object in the array and create a new item in our to-do list based on the object's properties as described earlier.

- Simply add the following function call to load the list upon page render to complete the challenge!

    ```JavaScript
    loadList();
    ```

<alert type="info">
The challenge is now complete! 🥳🎉 After adding some items to your list, marking a few as complete, and clicking the `Save List` button...save your JSFiddle (don't worry, no account creation is necessary) and refresh your browser to see your saved items displayed in your list again!
</alert>

> A JSFiddle with the completed code (including the save list feature) can be viewed [here](https://jsfiddle.net/ysn9xak4/3/)
